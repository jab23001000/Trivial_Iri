<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="robots" content="noindex">
  <title>Trivial I√±igo & Ainara</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f8f9fa;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    #app {
      max-width: 600px;
      background: white;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      text-align: center;
    }
    h1, h2, h3 {
      margin-bottom: 1rem;
    }
    .hidden {
      display: none;
    }
    input[type="text"], input[type="number"] {
      padding: 0.5rem;
      font-size: 1rem;
      width: 80%;
      margin-top: 1rem;
    }
    button {
      margin: 1rem 0.5rem;
      padding: 0.7rem 1.2rem;
      font-size: 1rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background-color: #007bff;
      color: white;
    }
    button:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }
    #timer {
      font-weight: bold;
      color: #d9534f;
      margin-top: 1rem;
    }
    #final-msg {
      font-size: 1.5rem;
      color: green;
    }
    #error-msg {
      color: red;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div id="app">
    <!-- Landing -->
    <div id="landing">
      <h1>Bienvenidos I√±igo y Ainara</h1>
      <h2>¬øListos para comenzar vuestro Trivial?</h2>
      <p>
        Vais a comenzar una serie de preguntas.<br>
        Las deber√©is responder correctamente para obtener un n√∫mero que deb√©is anotar.<br>
        Para cada pregunta habr√° un n√∫mero.<br>
        La pregunta final ser√° la suma de todos los n√∫meros anteriores.<br>
        Solo si este √∫ltimo n√∫mero es correcto recibir√©is el premio.
      </p>
      <button id="startBtn">Comenzar</button>
    </div>

    <!-- Juego -->
    <div id="game" class="hidden">
      <h2 id="question"></h2>
      <input type="text" id="answer" placeholder="Escribe tu respuesta">
      <div>
        <button id="checkBtn">Comprobar respuesta</button>
      </div>
      <div id="feedback"></div>
      <div id="timer" class="hidden"></div>
      <div>
        <button id="prevBtn">Anterior</button>
        <button id="nextBtn" disabled>Siguiente</button>
      </div>
    </div>

    <!-- Final -->
    <div id="final" class="hidden">
      <h2>Pregunta final</h2>
      <p>Introduce la suma de todos los n√∫meros obtenidos:</p>
      <input type="number" id="finalInput">
      <button id="checkFinalBtn">Comprobar</button>
      <div id="error-msg"></div>
      <div id="final-msg"></div>
    </div>
  </div>

  <script>
    // Preguntas
   const preguntas = [
          { q: "Nombre de la calle donde vive I√±igo con Silvia en Pamplona", a: "teobaldos", n: 12 },
          { 
            q: "Ve el siguiente video:", 
            sub: '<a href="https://www.youtube.com/watch?v=N3PmMLH0ji0" target="_blank">Abrir video en YouTube</a><br>En el video se dice la siguiente frase: Estos cachorros de tej√≥n han salido de su madriguera para...', 
            a: "explorar", 
            n: 8 
          },
          { q: "Color del cielo en un d√≠a despejado", a: "azul", n: 15 },
          { q: "¬øCu√°ntas patas tiene una ara√±a?", a: "8", n: 20 }
        ];

    let current = 0;
    let respuestas = Array(preguntas.length).fill(null);
    let numeros = Array(preguntas.length).fill(null);
    let timerInterval;

    const landing = document.getElementById("landing");
    const game = document.getElementById("game");
    const final = document.getElementById("final");

    const questionEl = document.getElementById("question");
    const answerEl = document.getElementById("answer");
    const feedbackEl = document.getElementById("feedback");
    const timerEl = document.getElementById("timer");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    const checkBtn = document.getElementById("checkBtn");
    const finalInput = document.getElementById("finalInput");
    const checkFinalBtn = document.getElementById("checkFinalBtn");
    const errorMsg = document.getElementById("error-msg");
    const finalMsg = document.getElementById("final-msg");

    document.getElementById("startBtn").onclick = startGame;
    prevBtn.onclick = prevQuestion;
    nextBtn.onclick = nextQuestion;
    checkBtn.onclick = checkAnswer;
    checkFinalBtn.onclick = checkFinal;

    function startGame() {
      landing.classList.add("hidden");
      game.classList.remove("hidden");
      loadQuestion();
    }

    function loadQuestion() {
          clearInterval(timerInterval);
          timerEl.classList.add("hidden");
          timerEl.textContent = "";
          answerEl.value = respuestas[current] || "";
          feedbackEl.textContent = numeros[current] ? `¬°Correcto! Tu n√∫mero es: ${numeros[current]}` : "";
        
          if (preguntas[current].sub) {
            questionEl.innerHTML = `<strong>${preguntas[current].q}</strong><br><small>${preguntas[current].sub}</small>`;
          } else {
            questionEl.textContent = preguntas[current].q;
          }
        
          prevBtn.disabled = current === 0;
          nextBtn.disabled = !numeros[current];
          answerEl.disabled = !!numeros[current];
          checkBtn.disabled = !!numeros[current];
          if (!numeros[current]) {
            answerEl.focus();
          }
        }


    function checkAnswer() {
      const respuesta = answerEl.value.trim().toLowerCase();
      if (respuesta === preguntas[current].a) {
        respuestas[current] = respuesta;
        numeros[current] = preguntas[current].n;
        feedbackEl.textContent = `¬°Correcto! Tu n√∫mero es: ${numeros[current]}. An√≥talo.`;
        nextBtn.disabled = false;
        answerEl.disabled = true;
        checkBtn.disabled = true;
        startTimer();
      } else {
        feedbackEl.textContent = "Respuesta incorrecta. Intenta de nuevo.";
      }
    }

    function startTimer() {
      let t = 20;
      timerEl.classList.remove("hidden");
      timerEl.textContent = `Avanzando en ${t} segundos...`;
      timerInterval = setInterval(() => {
        t--;
        timerEl.textContent = `Avanzando en ${t} segundos...`;
        if (t <= 0) {
          clearInterval(timerInterval);
          nextQuestion();
        }
      }, 1000);
    }

    function nextQuestion() {
      if (!numeros[current]) return; 
      if (current < preguntas.length - 1) {
        current++;
        loadQuestion();
      } else {
        game.classList.add("hidden");
        final.classList.remove("hidden");
      }
    }

    function prevQuestion() {
      if (current > 0) {
        current--;
        loadQuestion();
      }
    }

    function checkFinal() {
      const sumaCorrecta = numeros.reduce((a, b) => a + b, 0);
      const userSum = parseInt(finalInput.value, 10);
      if (userSum === sumaCorrecta) {
        errorMsg.textContent = "";
        finalMsg.textContent = "üéâ Pruebas completadas, solicita tu premio! üéâ";
      } else {
        finalMsg.textContent = "";
        errorMsg.textContent = "‚ùå La suma es incorrecta. Intenta de nuevo.";
      }
    }
  </script>
</body>
</html>






